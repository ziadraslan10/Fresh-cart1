"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[290],{5290:(b,h,r)=>{r.r(h),r.d(h,{CartComponent:()=>P});var _=r(6814),n=r(5156),g=r(1120),c=r(8129),t=r(4769),p=r(6286);function a(i,f){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-loading"),t.qZA())}function d(i,f){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12),t._UZ(2,"img",13),t.qZA(),t.TgZ(3,"div",14)(4,"div")(5,"h3",15),t._uU(6),t.ALo(7,"cuttext"),t.qZA(),t.TgZ(8,"p",16),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"button",17,18),t.NdJ("click",function(){const m=t.CHM(e).$implicit,l=t.MAs(12),u=t.oxw(2);return t.KtG(u.removeItem(m.product._id,l))}),t._UZ(13,"i",19),t._uU(14," Remove"),t.qZA()(),t.TgZ(15,"div")(16,"button",20,21),t.NdJ("click",function(){const m=t.CHM(e).$implicit,l=t.MAs(17),u=t.MAs(22),C=t.oxw(2);return t.KtG(C.changeCount(m.count-1,m.product._id,l,u))}),t._uU(18,"-"),t.qZA(),t.TgZ(19,"span"),t._uU(20),t.qZA(),t.TgZ(21,"button",20,22),t.NdJ("click",function(){const m=t.CHM(e).$implicit,l=t.MAs(17),u=t.MAs(22),C=t.oxw(2);return t.KtG(C.changeCount(m.count+1,m.product._id,l,u))}),t._uU(23,"+"),t.qZA()()()()}if(2&i){const e=f.$implicit;t.xp6(2),t.Q6J("src",e.product.imageCover,t.LSH)("alt",e.product.title),t.xp6(4),t.hij(" ",t.xi3(7,5,e.product.title,3)," "),t.xp6(3),t.hij("price: ",t.lcZ(10,8,e.price)," "),t.xp6(11),t.Oqu(e.count)}}const v=function(i){return["/payment",i]};function O(i,f){if(1&i){const e=t.EpF();t.TgZ(0,"section",3)(1,"div",4)(2,"h1",5),t._uU(3,"Shop Cart"),t.qZA(),t.TgZ(4,"button",6),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.clear())}),t._uU(5,"Clear All"),t.qZA()(),t.TgZ(6,"p",7),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.YNc(9,d,24,10,"div",8),t.TgZ(10,"button",9),t._uU(11,"Online Payment "),t._UZ(12,"i",10),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(7),t.hij("Total Price: ",t.lcZ(8,3,e.cartDetails.totalCartPrice),""),t.xp6(2),t.Q6J("ngForOf",e.cartDetails.products),t.xp6(1),t.Q6J("routerLink",t.VKq(5,v,e.cartDetails._id))}}function M(i,f){1&i&&(t.TgZ(0,"h2",23),t._uU(1,"Your Cart Is Empty... "),t.qZA())}let P=(()=>{class i{constructor(e,o){this._CartService=e,this._Renderer2=o,this.cartDetails=null,this.isLoading=!0}ngOnInit(){this._CartService.getCartUser().subscribe({next:e=>{this.cartDetails=e.data,this.isLoading=!1},error:e=>{this.isLoading=!1}})}removeItem(e,o){this._Renderer2.setAttribute(o,"disabled","true"),this._CartService.removeCartItem(e).subscribe({next:s=>{this.cartDetails=s.data,this._Renderer2.removeAttribute(o,"disabled"),this._CartService.cartNum.next(s.numOfCartItems)},error:s=>{this._Renderer2.removeAttribute(o,"disabled")}})}changeCount(e,o,s,m){e>=1&&(this._Renderer2.setAttribute(s,"disabled","true"),this._Renderer2.setAttribute(m,"disabled","true"),this._CartService.updateCartCount(o,e).subscribe({next:l=>{this.cartDetails=l.data,this._Renderer2.removeAttribute(s,"disabled"),this._Renderer2.removeAttribute(m,"disabled")},error:l=>{this._Renderer2.removeAttribute(s,"disabled"),this._Renderer2.removeAttribute(m,"disabled")}}))}clear(){this._CartService.clearCart().subscribe({next:e=>{"success"===e.message&&(this.cartDetails=null,this._CartService.cartNum.next(e.numOfCartItems))},error:e=>{}})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.N),t.Y36(t.Qsj))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart"]],standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[4,"ngIf"],["class","w-75 mx-auto rounded shadow bg-main-light p-3 mb-3",4,"ngIf","ngIfElse"],["msg",""],[1,"w-75","mx-auto","rounded","shadow","bg-main-light","p-3","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h2"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"text-main"],["class","row border-bottom py-2",4,"ngFor","ngForOf"],[1,"main-btn","mt-3",3,"routerLink"],[1,"fa-brands","fa-cc-visa","fa-xl","strong"],[1,"row","border-bottom","py-2"],[1,"col-md-1"],[1,"w-100",3,"src","alt"],[1,"col-md-11","d-flex","align-items-center","justify-content-between"],[1,"h6"],[1,"text-main","small","mb-1"],[1,"btn","m-0","p-0","btn-outline-danger",3,"click"],["btnRemove",""],[1,"fas","fa-trash-can"],[1,"btn","btn-sm","border-success","m-1",3,"click"],["btn1",""],["btn2",""],[1,"text-center"]],template:function(o,s){if(1&o&&(t.YNc(0,a,2,0,"div",0),t.YNc(1,O,13,7,"section",1),t.YNc(2,M,2,0,"ng-template",null,2,t.W1O)),2&o){const m=t.MAs(3);t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",s.cartDetails)("ngIfElse",m)}},dependencies:[_.ez,_.sg,_.O5,_.H9,n.N,g.rH,c.r]})}return i})()},5156:(b,h,r)=>{r.d(h,{N:()=>g});var _=r(6814),n=r(4769);let g=(()=>{class c{static#t=this.\u0275fac=function(a){return new(a||c)};static#e=this.\u0275cmp=n.Xpm({type:c,selectors:[["app-loading"]],standalone:!0,features:[n.jDz],decls:15,vars:0,consts:[[1,"loadingScreen","position-fixed","top-0","bottom-0","end-0","start-0","bg-white","d-flex","justify-content-center","align-items-center"],["aria-label","Orange and tan hamster running in a metal wheel","role","img",1,"wheel-and-hamster"],[1,"wheel"],[1,"hamster"],[1,"hamster__body"],[1,"hamster__head"],[1,"hamster__ear"],[1,"hamster__eye"],[1,"hamster__nose"],[1,"hamster__limb","hamster__limb--fr"],[1,"hamster__limb","hamster__limb--fl"],[1,"hamster__limb","hamster__limb--br"],[1,"hamster__limb","hamster__limb--bl"],[1,"hamster__tail"],[1,"spoke"]],template:function(a,d){1&a&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"div",2),n.TgZ(3,"div",3)(4,"div",4)(5,"div",5),n._UZ(6,"div",6)(7,"div",7)(8,"div",8),n.qZA(),n._UZ(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13),n.qZA()(),n._UZ(14,"div",14),n.qZA()())},dependencies:[_.ez],styles:[".wheel-and-hamster[_ngcontent-%COMP%]{--dur: 1s;position:relative;width:12em;height:12em;font-size:14px}.wheel[_ngcontent-%COMP%], .hamster[_ngcontent-%COMP%], .hamster[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spoke[_ngcontent-%COMP%]{position:absolute}.wheel[_ngcontent-%COMP%], .spoke[_ngcontent-%COMP%]{border-radius:50%;top:0;left:0;width:100%;height:100%}.wheel[_ngcontent-%COMP%]{background:radial-gradient(100% 100% at center,hsla(0,0%,60%,0) 47.8%,hsl(0,0%,60%) 48%);z-index:2}.hamster[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamster var(--dur) ease-in-out infinite;top:50%;left:calc(50% - 3.5em);width:7em;height:3.75em;transform:rotate(4deg) translate(-.8em,1.85em);transform-origin:50% 0;z-index:1}.hamster__head[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterHead var(--dur) ease-in-out infinite;background:hsl(30,90%,55%);border-radius:70% 30% 0 100%/40% 25% 25% 60%;box-shadow:0 -.25em #facc9e inset,.75em -1.55em #fce6cf inset;top:0;left:-2em;width:2.75em;height:2.5em;transform-origin:100% 50%}.hamster__ear[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterEar var(--dur) ease-in-out infinite;background:hsl(0,90%,85%);border-radius:50%;box-shadow:-.25em 0 #f48c25 inset;top:-.25em;right:-.25em;width:.75em;height:.75em;transform-origin:50% 75%}.hamster__eye[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterEye var(--dur) linear infinite;background-color:#000;border-radius:50%;top:.375em;left:1.25em;width:.5em;height:.5em}.hamster__nose[_ngcontent-%COMP%]{background:hsl(0,90%,75%);border-radius:35% 65% 85% 15%/70% 50% 50% 30%;top:.75em;left:0;width:.2em;height:.25em}.hamster__body[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterBody var(--dur) ease-in-out infinite;background:hsl(30,90%,90%);border-radius:50% 30%/15% 60% 40% 40%;box-shadow:.1em .75em #f48c25 inset,.15em -.5em #facc9e inset;top:.25em;left:2em;width:4.5em;height:3em;transform-origin:17% 50%;transform-style:preserve-3d}.hamster__limb--fr[_ngcontent-%COMP%], .hamster__limb--fl[_ngcontent-%COMP%]{clip-path:polygon(0 0,100% 0,70% 80%,60% 100%,0% 100%,40% 80%);top:2em;left:.5em;width:1em;height:1.5em;transform-origin:50% 0}.hamster__limb--fr[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterFRLimb var(--dur) linear infinite;background:linear-gradient(hsl(30,90%,80%) 80%,hsl(0,90%,75%) 80%);transform:rotate(15deg) translateZ(-1px)}.hamster__limb--fl[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterFLLimb var(--dur) linear infinite;background:linear-gradient(hsl(30,90%,90%) 80%,hsl(0,90%,85%) 80%);transform:rotate(15deg)}.hamster__limb--br[_ngcontent-%COMP%], .hamster__limb--bl[_ngcontent-%COMP%]{border-radius:.75em .75em 0 0;clip-path:polygon(0 0,100% 0,100% 30%,70% 90%,70% 100%,30% 100%,40% 90%,0% 30%);top:1em;left:2.8em;width:1.5em;height:2.5em;transform-origin:50% 30%}.hamster__limb--br[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterBRLimb var(--dur) linear infinite;background:linear-gradient(hsl(30,90%,80%) 90%,hsl(0,90%,75%) 90%);transform:rotate(-25deg) translateZ(-1px)}.hamster__limb--bl[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterBLLimb var(--dur) linear infinite;background:linear-gradient(hsl(30,90%,90%) 90%,hsl(0,90%,85%) 90%);transform:rotate(-25deg)}.hamster__tail[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hamsterTail var(--dur) linear infinite;background:hsl(0,90%,85%);border-radius:.25em 50% 50% .25em;box-shadow:0 -.2em #f98686 inset;top:1.5em;right:-.5em;width:1em;height:.5em;transform:rotate(30deg) translateZ(-1px);transform-origin:.25em .25em}.spoke[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spoke var(--dur) linear infinite;background:radial-gradient(100% 100% at center,hsl(0,0%,60%) 4.8%,hsla(0,0%,60%,0) 5%),linear-gradient(hsla(0,0%,55%,0) 46.9%,hsl(0,0%,65%) 47% 52.9%,hsla(0,0%,65%,0) 53%) 50% 50%/99% 99% no-repeat}@keyframes _ngcontent-%COMP%_hamster{0%,to{transform:rotate(4deg) translate(-.8em,1.85em)}50%{transform:rotate(0) translate(-.8em,1.85em)}}@keyframes _ngcontent-%COMP%_hamsterHead{0%,25%,50%,75%,to{transform:rotate(0)}12.5%,37.5%,62.5%,87.5%{transform:rotate(8deg)}}@keyframes _ngcontent-%COMP%_hamsterEye{0%,90%,to{transform:scaleY(1)}95%{transform:scaleY(0)}}@keyframes _ngcontent-%COMP%_hamsterEar{0%,25%,50%,75%,to{transform:rotate(0)}12.5%,37.5%,62.5%,87.5%{transform:rotate(12deg)}}@keyframes _ngcontent-%COMP%_hamsterBody{0%,25%,50%,75%,to{transform:rotate(0)}12.5%,37.5%,62.5%,87.5%{transform:rotate(-2deg)}}@keyframes _ngcontent-%COMP%_hamsterFRLimb{0%,25%,50%,75%,to{transform:rotate(50deg) translateZ(-1px)}12.5%,37.5%,62.5%,87.5%{transform:rotate(-30deg) translateZ(-1px)}}@keyframes _ngcontent-%COMP%_hamsterFLLimb{0%,25%,50%,75%,to{transform:rotate(-30deg)}12.5%,37.5%,62.5%,87.5%{transform:rotate(50deg)}}@keyframes _ngcontent-%COMP%_hamsterBRLimb{0%,25%,50%,75%,to{transform:rotate(-60deg) translateZ(-1px)}12.5%,37.5%,62.5%,87.5%{transform:rotate(20deg) translateZ(-1px)}}@keyframes _ngcontent-%COMP%_hamsterBLLimb{0%,25%,50%,75%,to{transform:rotate(20deg)}12.5%,37.5%,62.5%,87.5%{transform:rotate(-60deg)}}@keyframes _ngcontent-%COMP%_hamsterTail{0%,25%,50%,75%,to{transform:rotate(30deg) translateZ(-1px)}12.5%,37.5%,62.5%,87.5%{transform:rotate(10deg) translateZ(-1px)}}@keyframes _ngcontent-%COMP%_spoke{0%{transform:rotate(0)}to{transform:rotate(-1turn)}}"]})}return c})()},6286:(b,h,r)=>{r.d(h,{N:()=>c});var _=r(5619),n=r(4769),g=r(9862);let c=(()=>{class t{constructor(a){this._HttpClient=a,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNum=new _.X(0)}addToCart(a){return this._HttpClient.post(this.baseUrl+"cart",{productId:a})}getCartUser(){return this._HttpClient.get(this.baseUrl+"cart")}removeCartItem(a){return this._HttpClient.delete(this.baseUrl+`cart/${a} `)}updateCartCount(a,d){return this._HttpClient.put(this.baseUrl+`cart/${a} `,{count:d})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(a,d){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${a}?url=http://localhost:4200`,{shippingAddress:d})}static#t=this.\u0275fac=function(d){return new(d||t)(n.LFG(g.eN))};static#e=this.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);